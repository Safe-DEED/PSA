# PSA-lib

This javascript library was developed for building arbitrary psa applications. 

### Installation instructions

To install the lib one just need to execute `$ npm install psa-lib` in the project root.

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->  
  
### Table of Contents  
  
- [getClientContext][1]  
- [getServerContext][2]  
- [encrypt][3]  
 - [Parameters][4]  
- [encryptForClientRequest][5]  
 - [Parameters][6]  
- [decrypt][7]  
 - [Parameters][8]  
- [decryptServerResponseObject][9]  
 - [Parameters][10]  
- [getSerializedGaloisKeys][11]  
 - [Parameters][12]  
- [compute][13]  
 - [Parameters][14]  
- [computeWithClientRequestObject][15]  
 - [Parameters][16]  
  
## getClientContext  
  
This asynchronous function return the client context object.  
  
Returns **[Object][17]** a context object necessary for client side actions  
  
## getServerContext  
  
This asynchronous function return the server context object.  
  
Returns **[Object][17]** a context object necessary for client side actions  
  
## encrypt  
  
This function encrypts the client's input vector and returns an array of ciphertexts.  
  
### Parameters  
  
- `inputArray` **[array][18]&lt;[number][19]>** 1D array of numbers  
- `clientContext` **[Object][17]** client side context  
  
Returns **[array][18]&lt;CipherText>** an array of ciphertexts  
  
## encryptForClientRequest  
  
This function encrypts the client's input vector and returns an object ready to be sent to the server.  
  
### Parameters  
  
- `inputArray` **[array][18]&lt;[number][19]>** 1D array of numbers  
- `clientContext` **[Object][17]** client side context  
  
Returns **[string][20]** JSON to be sent to server without further processing  
  
## decrypt  
  
This function decrypts the computed result vector. The result will be in the first n cells, if the matrix was of dimension (m x n).  
  
### Parameters  
  
- `encryptedResult` **[array][18]&lt;CipherText>** 1D array of ciphertexts received from server computation  
- `clientContext` **[Object][17]** client side context  
  
Returns **[array][18]&lt;[number][19]>** resulting array  
  
## decryptServerResponseObject  
  
This function decrypts the server response object. The result will be in the first n cells, if the matrix was of dimension (m x n).  
  
### Parameters  
  
- `serverResponseObject` **[string][20]** server response object (JSON), received from the server  
- `clientContext` **[Object][17]** client side context  
  
Returns **[array][18]&lt;[number][19]>** resulting array  
  
## getSerializedGaloisKeys  
  
This function returns the serialized galois key needed for rotations of the ciphertext.  
  
### Parameters  
  
- `clientContext` **[Object][17]** client side context  
  
Returns **[string][20]** base64 encoded galois key  
  
## compute  
  
This function computes the dot product between the encrypted client vector and the server matrix.  
Constraints: If vector is of dimensions (1 x m), then matrix has to be of (m x n).  
  
### Parameters  
  
- `encryptedArray` **[array][18]&lt;CipherText>** 1D array of ciphertexts received from client  
- `serializedGaloisKeys` **[string][20]** base64 encoded galois key  
- `matrix` **[array][18]&lt;[number][19]>** a 2D array of Numbers.  
- `serverContext` **[Object][17]** server side context  
  
Returns **[array][18]&lt;CipherText>** an array of ciphertexts  
  
## computeWithClientRequestObject  
  
This function computes the dot product between the encrypted client vector and the server matrix.  
Constraints: If vector is of dimensions (1 x m), then matrix has to be of (m x n).  
  
### Parameters  
  
- `clientRequestObject` **[string][20]** client request object (JSON), received from client  
- `matrix` **[array][18]&lt;[number][19]>** a 2D array of Numbers.  
- `serverContext` **[Object][17]** server side context  
  
Returns **[string][20]** JSON to be sent to client for decryption  
  
[1]: #getclientcontext  
  
[2]: #getservercontext  
  
[3]: #encrypt  
  
[4]: #parameters  
  
[5]: #encryptforclientrequest  
  
[6]: #parameters-1  
  
[7]: #decrypt  
  
[8]: #parameters-2  
  
[9]: #decryptserverresponseobject  
  
[10]: #parameters-3  
  
[11]: #getserializedgaloiskeys  
  
[12]: #parameters-4  
  
[13]: #compute  
  
[14]: #parameters-5  
  
[15]: #computewithclientrequestobject  
  
[16]: #parameters-6  
  
[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object  
  
[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array  
  
[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number  
  
[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
